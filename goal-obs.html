<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>🎯 هدف حمایت</title>
<link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;600&display=swap" rel="stylesheet">
<style>
body {
  margin:0;
  background:transparent;
  font-family:'Vazirmatn',sans-serif;
  color:#00ff99;
  direction:rtl;
  overflow:hidden;
}

#goal-container {
  width:600px;
  margin:50px auto;
  text-align:right;
}

#goal-title {
  font-size:1.8em;
  margin-bottom:10px;
  display:flex;
  justify-content:flex-end;
  align-items:center;
  gap:10px;
}

#goal-title img {
  width:40px;
  height:40px;
}

#goal-bar-wrapper {
  position:relative;
  width:100%;
  height:40px;
  border:3px solid yellow;
  border-radius:20px;
  overflow:hidden;
  background:transparent;
}

#goal-bar {
  position:absolute;
  top:0; right:0;
  height:100%;
  width:0%;
  background:#00ff99;
  border-radius:16px 0 0 16px; /* فقط سمت چپ پر میشه */
  transition: width 0.5s ease;
}

#goal-percent {
  position:absolute;
  right:8px;
  top:50%;
  transform:translateY(-50%);
  font-weight:bold;
  font-size:1.2em;
}

#goal-heart {
  position:absolute;
  left:8px;
  top:50%;
  transform:translateY(-50%);
  width:28px; height:28px;
}

#goal-text {
  margin-top:8px;
  font-size:1.4em;
  text-align:right;
  direction:rtl;
}

/* برای موبایل */
@media(max-width:500px){
  #goal-container{width:90%;}
  #goal-title{font-size:1.4em;}
  #goal-bar-wrapper{height:30px;}
  #goal-bar{border-radius:12px 0 0 12px;}
  #goal-percent{font-size:1em;}
  #goal-text{font-size:1.1em;}
}
</style>
</head>
<body>

<div id="goal-container">
  <div id="goal-title">
    هدف: خرید وبکم
    <img src="https://katakurisu.github.io/gift.png" alt="هدیه">
  </div>
  <div id="goal-bar-wrapper">
    <div id="goal-bar"></div>
    <div id="goal-heart">
      <img src="https://katakurisu.github.io/heart.png" alt="♥">
    </div>
    <div id="goal-percent">۰%</div>
  </div>
  <div id="goal-text">تاکنون ۰ از ۶۰۰۰۰۰ تومان حمایت شده</div>
</div>

<script>
const goalBar = document.getElementById('goal-bar');
const goalText = document.getElementById('goal-text');
const percentText = document.getElementById('goal-percent');
const heart = document.getElementById('goal-heart');

let total = 0;
let target = 600000; // تومان

function toPersian(num) {
  return num.toString().replace(/\d/g,d=>'۰۱۲۳۴۵۶۷۸۹'[d]);
}

function addDonation(amount) {
  total += amount;
  if(total > target) total = target;
  const percent = Math.floor((total/target)*100);

  // پر شدن نوار از راست به چپ
  goalBar.style.width = percent + '%';
  percentText.textContent = toPersian(percent)+'%';
  heart.style.left = `calc(8px + ${percent}% - 14px)`;

  goalText.textContent = `تاکنون ${toPersian(total)} از ${toPersian(target)} تومان حمایت شده`;
}

// تست
setInterval(()=>{
  // uncomment to auto test
  //addDonation(Math.floor(Math.random()*50000));
},5000);
</script>

</body>
</html>
