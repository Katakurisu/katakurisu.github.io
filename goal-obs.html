<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>نوار هدف حمایت (OBS)</title>
<link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;600&display=swap" rel="stylesheet">
<style>
body {
  margin: 0;
  font-family: 'Vazirmatn', sans-serif;
  background: transparent; /* شفاف برای OBS */
  overflow: hidden;
}

/* -------------------- 🎯 نوار هدف -------------------- */
#goal-container {
  position: fixed;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  width: 80%;
  max-width: 800px;
  backdrop-filter: blur(10px); /* شیشه‌ای */
  border: 3px solid #FFD700; /* کادر زرد */
  border-radius: 12px;
  padding: 10px 15px;
  box-sizing: border-box;
  z-index: 5;
}

#goal-title {
  color: red;
  font-size: 1.2em;
  font-weight: 600;
  text-align: center;
  text-shadow: 0 0 10px #FF0000; /* گلو */
  margin-bottom: 8px;
}

#goal-bar {
  position: relative;
  width: 100%;
  height: 30px;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 10px;
  overflow: hidden;
}

#goal-fill {
  height: 100%;
  width: 0%;
  background: #00FF99; /* پرشدن سبز فسفری */
  border-radius: 10px 0 0 10px;
  transition: width 0.5s ease;
}

#goal-text-left {
  position: absolute;
  left: 10px;
  top: 50%;
  transform: translateY(-50%);
  font-weight: 600;
  color: #FFFFFF;
  text-shadow: 0 0 8px #000;
}

#goal-text-right {
  position: absolute;
  right: 10px;
  top: 50%;
  transform: translateY(-50%);
  font-weight: 600;
  color: #FFFFFF;
  text-shadow: 0 0 8px #000;
}
</style>
</head>
<body>

<div id="goal-container">
  <div id="goal-title">خرید وبکم</div>
  <div id="goal-bar">
    <div id="goal-fill"></div>
    <div id="goal-text-left">0%</div>
    <div id="goal-text-right">0 / 60,000 تومان</div>
  </div>
</div>

<script>
// -------------------- متغیرها --------------------
let total = 0; // مبلغ فعلی به تومان
const target = 60000; // مبلغ هدف به تومان

const goalFill = document.getElementById('goal-fill');
const textLeft = document.getElementById('goal-text-left');
const textRight = document.getElementById('goal-text-right');

// -------------------- بروزرسانی نوار هدف --------------------
function updateGoal(amount) {
  total += amount; // به تومان
  if (total > target) total = target;

  const percent = ((total / target) * 100).toFixed(1);
  goalFill.style.width = percent + '%';
  textLeft.textContent = percent + '%';
  textRight.textContent = `${total.toLocaleString()} / ${target.toLocaleString()} تومان`;
}

// -------------------- تست بدون وبهوک --------------------
// مثال: برای تست دستی می‌توانید این خط را فعال کنید
// updateGoal(5000);

</script>
</body>
</html>
