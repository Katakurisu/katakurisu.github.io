<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>🎯 هدف حمایت</title>
<link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;600&display=swap" rel="stylesheet">
<style>
body {
  margin:0;
  font-family:'Vazirmatn',sans-serif;
  background:transparent;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
}

#goal-container {
  width:70%;
  max-width:800px;
  background:rgba(0,0,0,0.25);
  border-radius:15px;
  padding:20px;
  box-sizing:border-box;
  text-align:right;
}

#goal-title {
  font-size:2em;
  font-weight:600;
  color:red;
  text-shadow:0 0 5px red;
  margin-bottom:10px;
}

#goal-title img {
  vertical-align:middle;
  margin-left:10px;
  width:32px;
  height:32px;
}

#goal-bar-container {
  position:relative;
  width:100%;
  height:40px;
  background:transparent;
  border:2px solid yellow;
  border-radius:20px;
  overflow:hidden;
  margin-bottom:10px;
}

#goal-bar-fill {
  position:absolute;
  right:0; /* پر شدن از راست به چپ */
  top:0;
  height:100%;
  width:0%;
  background:#00ff99; /* سبز فسفری */
  transition:width 1s ease;
}

#goal-percent {
  position:absolute;
  left:10px;
  top:50%;
  transform:translateY(-50%);
  font-size:1.2em;
  font-weight:600;
  color:#00ff99;
  text-shadow:0 0 5px #00ff99;
}

#goal-percent::before {
  content:'♥ ';
}

#goal-text {
  font-size:1.5em;
  color:#00ff99;
  text-align:right;
  direction:rtl;
  text-shadow:0 0 5px #00ff99;
}

</style>
</head>
<body>

<div id="goal-container">
  <div id="goal-title">
    <img src="https://katakurisu.github.io/gift.png" alt="هدیه">
    هدف: خرید وبکم
  </div>
  <div id="goal-bar-container">
    <div id="goal-bar-fill"></div>
    <div id="goal-percent"></div>
  </div>
  <div id="goal-text">تاکنون 0 از 60,000 تومان حمایت شده</div>
</div>

<script>
// تنظیمات اولیه
let total=0; 
const target=60000; // تومان
const goalFill=document.getElementById('goal-bar-fill');
const goalPercent=document.getElementById('goal-percent');
const goalText=document.getElementById('goal-text');

// تابع آپدیت هدف
function updateGoal(newAmount){
  total=newAmount;
  let percent=Math.min((total/target)*100,100);
  let persianPercent=percent.toFixed(1).toString().replace(/\d/g,d=>'۰۱۲۳۴۵۶۷۸۹'[d]);
  goalFill.style.width=percent+'%';
  goalPercent.textContent=persianPercent+'%';
  goalText.textContent='تاکنون '+total.toLocaleString('fa-IR')+' از '+target.toLocaleString('fa-IR')+' تومان حمایت شده';
}

// شبیه‌سازی دریافت داده جدید (تست)
setInterval(()=>{
  let randomAdd=Math.floor(Math.random()*5000);
  let newAmount=Math.min(total+randomAdd,target);
  updateGoal(newAmount);
},5000);

</script>
</body>
</html>
