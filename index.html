<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>🎁 حمایت از میلاد کاتاکوری</title>
<link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;600&display=swap" rel="stylesheet">
<style>
body {
  margin: 0;
  font-family: 'Vazirmatn', sans-serif;
  background-color: #000;
  color: #00ff99;
  text-align: center;
  direction: rtl;
  min-height: 100vh;
}
h1 {
  margin: 60px 0 50px 0;
  font-size: 2.4em;
  text-shadow: 0 0 15px #00ff99;
}
.button-container {
  display: flex;
  justify-content: center;
  gap: 25px;
  flex-wrap: wrap;
  margin-bottom: 80px;
}
.btn {
  display: inline-block;
  padding: 16px 32px;
  font-size: 1.2em;
  color: #00ff99;
  text-decoration: none;
  border: 2px solid #00ff99;
  border-radius: 12px;
  box-shadow: 0 0 15px #00ff99;
  transition: all 0.3s ease;
}
.btn:hover {
  background: #00ff99;
  color: #000;
  box-shadow: 0 0 30px #00ff99;
  transform: scale(1.05);
}
#datetime-container {
  position: fixed;
  top: 10px;
  left: 10px;
  background: rgba(0,0,0,0.8);
  padding: 8px 12px;
  border-radius: 12px;
  font-size: 1em;
  color: #00ff99;
  text-shadow: 0 0 8px #00ff99;
  display: flex;
  align-items: center;
  gap: 10px;
  z-index: 20;
}
#lang-select {
  background: #000;
  color: #00ff99;
  border: 1px solid #00ff99;
  border-radius: 8px;
  padding: 2px 6px;
  font-size: 1em;
  cursor: pointer;
}
#date, #weekday, #time { min-width: 80px; text-align:center; }
</style>
</head>
<body>

<h1>🎁 حمایت از میلاد کاتاکوری</h1>

<div class="button-container">
  <a class="btn" href="https://zarinp.al/katakuri" target="_blank">💳 پرداخت ریالی</a>
  <a class="btn" href="https://nowpayments.io/donation/katakuri" target="_blank">₿ پرداخت کریپتو</a>
</div>

<div id="datetime-container">
  <select id="lang-select">
    <option value="fa">فارسی</option>
    <option value="en">English</option>
  </select>
  <div id="date"></div>
  <div>|</div>
  <div id="weekday"></div>
  <div>|</div>
  <div id="time"></div>
</div>

<script>
// اعداد فارسی
function toPersianDigits(str){
  const en = '0123456789';
  const fa = '۰۱۲۳۴۵۶۷۸۹';
  return str.replace(/\d/g, d=>fa[d]);
}

// تابع دقیق تبدیل میلادی به جلالی
function toJalali(gy, gm, gd) {
    var g_d_m=[0,31,59,90,120,151,181,212,243,273,304,334];
    var jy, jm, jd;
    var gy2 = (gm > 2)? (gy + 1) : gy;
    var days = 355666 + (365 * gy) + Math.floor((gy2 + 3)/4) - Math.floor((gy2 + 99)/100) + Math.floor((gy2 + 399)/400) + gd + g_d_m[gm -1];
    jy = -1595 + (33 * Math.floor(days/12053));
    days %= 12053;
    jy += 4 * Math.floor(days/1461);
    days %= 1461;
    if(days > 365){
        jy += Math.floor((days-1)/365);
        days = (days-1)%365;
    }
    var jm_list=[0,31,62,93,124,155,186,216,246,276,306,336,365];
    for(jm=0; jm<12; jm++){ if(days < jm_list[jm+1]) break; }
    jd = days - jm_list[jm] +1;
    return {jy: jy, jm: jm+1, jd: jd};
}

const dateEl = document.getElementById('date');
const timeEl = document.getElementById('time');
const weekdayEl = document.getElementById('weekday');
const langSelect = document.getElementById('lang-select');

function updateDateTime(){
  const now = new Date();
  let hours = now.getHours().toString().padStart(2,'0');
  let minutes = now.getMinutes().toString().padStart(2,'0');
  let seconds = now.getSeconds().toString().padStart(2,'0');

  let dateStr='', weekdayStr='', timeStr=`${hours}:${minutes}:${seconds}`;

  if(langSelect.value==='fa'){
    const jDate = toJalali(now.getFullYear(), now.getMonth()+1, now.getDate());
    dateStr = `${jDate.jy}/${jDate.jm.toString().padStart(2,'0')}/${jDate.jd.toString().padStart(2,'0')}`;
    dateStr = toPersianDigits(dateStr);
    const weekdaysFa = ["شنبه","یک‌شنبه","دوشنبه","سه‌شنبه","چهارشنبه","پنج‌شنبه","جمعه"];
    weekdayStr = weekdaysFa[now.getDay()];
    timeStr = toPersianDigits(timeStr);
  } else {
    const year = now.getFullYear();
    const month = (now.getMonth()+1).toString().padStart(2,'0');
    const day = now.getDate().toString().padStart(2,'0');
    dateStr = `${year}/${month}/${day}`;
    const weekdaysEn = ["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];
    weekdayStr = weekdaysEn[now.getDay()];
  }

  dateEl.textContent = dateStr;
  weekdayEl.textContent = weekdayStr;
  timeEl.textContent = timeStr;
}

langSelect.addEventListener('change', updateDateTime);
setInterval(updateDateTime, 1000);
updateDateTime();
</script>
</body>
</html>
