<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>📊 داشبورد حمایت‌ها</title>
<link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;600&display=swap" rel="stylesheet">
<style>
body{margin:0;font-family:'Vazirmatn',sans-serif;background:#000;color:#00ff99;text-align:center;direction:rtl;}
h1{margin:30px 0;font-size:2em;text-shadow:0 0 12px #00ff99;}
table{width:90%;margin:0 auto;border-collapse:collapse;margin-bottom:30px;}
th,td{padding:10px;border:1px solid #00ff99;text-align:center;}
th{background:#111;}
#stats{margin-bottom:40px;font-size:1.2em;text-shadow:0 0 10px #00ff99;}
</style>
</head>
<body>

<h1>📊 داشبورد زنده حمایت‌ها</h1>

<div id="stats">
💰 جمع کل: <span id="total">0</span> USDT | 🎯 درصد هدف: <span id="percent">0</span>%
</div>

<table>
  <thead>
    <tr>
      <th>نام حامی</th>
      <th>مبلغ (USDT)</th>
      <th>پیام</th>
      <th>زمان</th>
    </tr>
  </thead>
  <tbody id="donation-list"></tbody>
</table>

<script>
let total=0,target=100;
const donationList=document.getElementById('donation-list');
const totalEl=document.getElementById('total');
const percentEl=document.getElementById('percent');

function addDonation(d){
  const tr=document.createElement('tr');
  const time=new Date().toLocaleTimeString('fa-IR');
  tr.innerHTML=`<td>${d.name||'حامی ناشناس'}</td><td>${d.amount_usdt.toFixed(2)}</td><td>${d.message||''}</td><td>${time}</td>`;
  donationList.prepend(tr);
  total+=d.amount_usdt;
  totalEl.textContent=total.toFixed(2);
  percentEl.textContent=Math.min((total/target*100).toFixed(1),100);
}

// مثال تست
setTimeout(()=>{addDonation({name:'میلاد',amount_usdt:1.23,message:'مرسی!'});},1000);
setTimeout(()=>{addDonation({name:'کاربر۲',amount_usdt:0.5,message:'خیلی خوبه!'});},3000);
</script>

</body>
</html>
