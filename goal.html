<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>🎯 نوار هدف حمایت‌ها</title>
<style>
body{margin:0;background:#000;color:#00ff99;font-family:sans-serif;text-align:center;}
#goal-container{width:90%;background:#111;margin:50px auto;border-radius:20px;padding:20px;}
#goal-bar{width:0%;height:40px;background:#00ff99;border-radius:20px;transition:width 0.5s;}
#goal-text{margin-top:15px;font-size:1.2em;}
</style>
</head>
<body>

<div id="goal-container">
  <div id="goal-bar"></div>
  <div id="goal-text">💰 جمع کل: <span id="total">0</span> USDT | 🎯 درصد هدف: <span id="percent">0</span>%</div>
</div>

<script>
let total=0,target=100;
const bar=document.getElementById('goal-bar');
const totalEl=document.getElementById('total');
const percentEl=document.getElementById('percent');

function addDonation(d){
  total+=d.amount_usdt;
  totalEl.textContent=total.toFixed(2);
  let p=Math.min((total/target*100),100);
  percentEl.textContent=p.toFixed(1);
  bar.style.width=p+'%';
}

// مثال تست
setTimeout(()=>{addDonation({amount_usdt:1.23});},1000);
setTimeout(()=>{addDonation({amount_usdt:0.5});},3000);
</script>
</body>
</html>
